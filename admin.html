<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bhutan Travel Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-dark: #121212;
            --secondary-dark: #1e1e1e;
            --tertiary-dark: #2a2a2a;
            --gold-primary: #d4af37;
            --gold-secondary: #f1c40f;
            --gold-tertiary: #c9a227;
            --text-light: #f5f5f5;
            --text-gray: #b0b0b0;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --info: #3498db;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--primary-dark);
            color: var(--text-light);
            display: flex;
            min-height: 100vh;
            overflow: hidden;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background-color: var(--secondary-dark);
            padding: 20px 0;
            height: 100vh;
            position: fixed;
            border-right: 1px solid rgba(212, 175, 55, 0.1);
        }

        .logo {
            padding: 0 20px 20px;
            text-align: center;
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
            margin-bottom: 20px;
        }

        .logo h1 {
            font-size: 24px;
            margin-top: 10px;
            color: var(--gold-primary);
        }

        .logo p {
            color: var(--text-gray);
            font-style: italic;
            font-size: 14px;
        }

        .nav-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }

        .nav-item:hover, .nav-item.active {
            background-color: rgba(212, 175, 55, 0.1);
            border-left: 3px solid var(--gold-primary);
        }

        .nav-item i {
            margin-right: 12px;
            color: var(--gold-secondary);
            width: 24px;
            text-align: center;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 260px;
            height: 100vh;
            overflow-y: auto;
        }

        /* Top Bar */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            background-color: var(--tertiary-dark);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
        }

        .top-bar-left h2 {
            font-weight: 500;
            font-size: 24px;
        }

        .top-bar-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .notification {
            position: relative;
            cursor: pointer;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--danger);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .notification-panel {
            position: absolute;
            top: 50px;
            right: 0;
            width: 400px;
            background-color: var(--tertiary-dark);
            border: 1px solid rgba(212, 175, 55, 0.1);
            border-radius: 8px;
            padding: 0;
            display: none;
            z-index: 100;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-height: 500px;
            overflow-y: auto;
        }

        .notification-panel.active {
            display: block;
        }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background-color: var(--secondary-dark);
            position: sticky;
            top: 0;
            z-index: 1;
        }

        .notification-list {
            padding: 0;
        }

        .notification-item {
            padding: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            transition: background-color 0.3s;
            display: flex;
            align-items: flex-start;
        }

        .notification-item:hover {
            background-color: rgba(212, 175, 55, 0.05);
        }

        .notification-item.unread {
            background-color: rgba(212, 175, 55, 0.08);
        }

        .notification-icon {
            margin-right: 12px;
            color: var(--gold-primary);
            font-size: 18px;
            flex-shrink: 0;
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: 500;
            margin-bottom: 5px;
        }

        .notification-message {
            color: var(--text-gray);
            font-size: 14px;
            margin-bottom: 5px;
        }

        .notification-time {
            font-size: 12px;
            color: var(--text-gray);
            display: flex;
            align-items: center;
        }

        .notification-time i {
            margin-right: 5px;
            font-size: 10px;
        }

        .notification-actions {
            display: flex;
            justify-content: space-between;
            padding: 10px 15px;
            background-color: var(--secondary-dark);
            position: sticky;
            bottom: 0;
        }

        /* Stats Cards */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            padding: 30px;
        }

        .stat-card {
            background-color: var(--secondary-dark);
            border-radius: 10px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(212, 175, 55, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .stat-icon {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background-color: rgba(212, 175, 55, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--gold-primary);
        }

        .stat-title {
            color: var(--text-gray);
            margin-bottom: 10px;
            font-size: 14px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .stat-change {
            font-size: 14px;
            display: flex;
            align-items: center;
        }

        .stat-change.positive {
            color: var(--success);
        }

        .stat-change.negative {
            color: var(--danger);
        }

        /* Recent Bookings */
        .recent-bookings {
            padding: 0 30px 30px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .btn {
            background: linear-gradient(to right, var(--gold-primary), var(--gold-secondary));
            color: var(--primary-dark);
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        .table-container {
            background-color: var(--secondary-dark);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid rgba(212, 175, 55, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background-color: var(--tertiary-dark);
            padding: 15px 20px;
            text-align: left;
            font-weight: 500;
            color: var(--gold-primary);
        }

        td {
            padding: 12px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        tr:last-child td {
            border-bottom: none;
        }

        .status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status.confirmed {
            background-color: rgba(46, 204, 113, 0.15);
            color: var(--success);
        }

        .status.pending {
            background-color: rgba(243, 156, 18, 0.15);
            color: var(--warning);
        }

        .status.cancelled {
            background-color: rgba(231, 76, 60, 0.15);
            color: var(--danger);
        }

        .action-btn {
            background: none;
            border: none;
            color: var(--gold-primary);
            cursor: pointer;
            padding: 5px;
            font-size: 16px;
            margin-right: 10px;
        }

        /* Packages Section */
        .packages-section, .events-section, .bookings-section {
            padding: 30px;
            display: none;
        }

        .filters {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background-color: var(--secondary-dark);
            padding: 15px 20px;
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.1);
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            background-color: var(--tertiary-dark);
            border: 1px solid rgba(212, 175, 55, 0.1);
            border-radius: 30px;
            padding: 10px 15px 10px 40px;
            color: var(--text-light);
            width: 250px;
        }

        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-gray);
        }

        /* Modal */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background-color: var(--secondary-dark);
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--gold-primary);
        }

        .modal-header {
            padding: 20px;
            background: linear-gradient(to right, var(--gold-primary), var(--gold-secondary));
            color: var(--primary-dark);
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-weight: 600;
        }

        .close-modal {
            background: none;
            border: none;
            color: var(--primary-dark);
            font-size: 24px;
            cursor: pointer;
        }

        .modal-body {
            padding: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-gray);
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            background-color: var(--tertiary-dark);
            border: 1px solid rgba(212, 175, 55, 0.1);
            border-radius: 6px;
            color: var(--text-light);
        }

        .form-group textarea {
            min-height: 120px;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            padding-top: 20px;
            border-top: 1px solid rgba(212, 175, 55, 0.1);
            margin-top: 20px;
        }

        .btn-secondary {
            background: var(--tertiary-dark);
            color: var(--text-light);
        }

        /* Image upload */
        .image-upload {
            margin-bottom: 20px;
        }

        .image-upload-preview {
            width: 100%;
            height: 200px;
            background-color: var(--tertiary-dark);
            border-radius: 6px;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
            border: 1px dashed rgba(212, 175, 55, 0.3);
            cursor: pointer;
        }

        .image-upload-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
        }

        .image-upload-placeholder {
            text-align: center;
            color: var(--text-gray);
        }

        .image-upload-placeholder i {
            font-size: 48px;
            margin-bottom: 10px;
            color: var(--gold-primary);
        }

        .image-upload-remove {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0,0,0,0.7);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: none;
        }

        .image-upload-preview:hover .image-upload-remove {
            display: block;
        }

        /* Carousel Images Upload */
        .carousel-upload-container {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .carousel-upload-item {
            flex: 1;
            min-width: 0;
        }
        
        .carousel-upload-item .image-upload-preview {
            height: 120px;
            position: relative;
        }
        
        .carousel-upload-item .image-upload-placeholder {
            padding: 10px;
        }
        
        .carousel-upload-item .image-upload-placeholder i {
            font-size: 24px;
        }
        
        .carousel-upload-item .image-upload-placeholder p {
            margin-top: 5px;
            font-size: 12px;
        }

        /* Event countdown */
        .event-countdown {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .countdown-item {
            background-color: var(--tertiary-dark);
            padding: 8px 12px;
            border-radius: 6px;
            text-align: center;
            min-width: 60px;
        }

        .countdown-value {
            font-size: 18px;
            font-weight: bold;
            color: var(--gold-primary);
        }

        .countdown-label {
            font-size: 12px;
            color: var(--text-gray);
        }

        /* Booking Details Modal */
        .booking-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .booking-section {
            margin-bottom: 20px;
        }

        .booking-section h4 {
            color: var(--gold-primary);
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
        }

        .booking-field {
            display: flex;
            margin-bottom: 10px;
        }

        .booking-label {
            font-weight: 500;
            color: var(--text-gray);
            min-width: 120px;
        }

        .booking-value {
            flex: 1;
        }

        /* Edit Booking Modal */
        .edit-booking-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        /* Delete Confirmation Modal */
        .delete-confirmation {
            text-align: center;
            padding: 20px;
        }

        .delete-confirmation h3 {
            margin-bottom: 20px;
            color: var(--gold-primary);
        }

        .delete-confirmation p {
            margin-bottom: 30px;
            color: var(--text-gray);
        }

        .delete-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 992px) {
            .booking-details {
                grid-template-columns: 1fr;
            }
            .edit-booking-form {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
            }
            .sidebar .logo-text, .nav-item span {
                display: none;
            }
            .main-content {
                margin-left: 70px;
            }
            .stats-container {
                grid-template-columns: 1fr;
            }
            .form-row {
                grid-template-columns: 1fr;
            }
            .carousel-upload-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <i class="fas fa-mountain fa-3x" style="color: var(--gold-primary);"></i>
            <h1 class="logo-text">Bhutan Travel</h1>
            <p>Where every place tells a new story</p>
        </div>
        <div class="nav-item active" data-section="dashboard">
            <i class="fas fa-tachometer-alt"></i>
            <span>Dashboard</span>
        </div>
        <div class="nav-item" data-section="packages">
            <i class="fas fa-suitcase-rolling"></i>
            <span>Tour Packages</span>
        </div>
        <div class="nav-item" data-section="events">
            <i class="fas fa-calendar-star"></i>
            <span>Upcoming Events</span>
        </div>
        <div class="nav-item" data-section="bookings">
            <i class="fas fa-book-open"></i>
            <span>Bookings</span>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="top-bar-left">
                <h2>Dashboard Overview</h2>
            </div>
            <div class="top-bar-right">
                <div class="notification">
                    <i class="fas fa-bell fa-lg"></i>
                    <div class="notification-badge">3</div>
                    <div class="notification-panel">
                        <div class="notification-header">
                            <h4>Notifications</h4>
                            <button class="btn btn-sm" id="clear-notifications">Mark All as Read</button>
                        </div>
                        <div class="notification-list">
                            <div class="notification-item unread">
                                <div class="notification-icon">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                                <div class="notification-content">
                                    <div class="notification-title">New Booking Received</div>
                                    <div class="notification-message">John Smith booked the Bhutan Cultural Tour for 2 people from Nov 15-22, 2023.</div>
                                    <div class="notification-time">
                                        <i class="far fa-clock"></i> 2 minutes ago
                                    </div>
                                </div>
                            </div>
                            <div class="notification-item unread">
                                <div class="notification-icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div class="notification-content">
                                    <div class="notification-title">Payment Received</div>
                                    <div class="notification-message">Payment of $1,200 confirmed for booking #BK-1001.</div>
                                    <div class="notification-time">
                                        <i class="far fa-clock"></i> 1 hour ago
                                    </div>
                                </div>
                            </div>
                            <div class="notification-item">
                                <div class="notification-icon">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div class="notification-content">
                                    <div class="notification-title">New Review</div>
                                    <div class="notification-message">Emily Davis gave 5 stars to Bhutan Luxury Tour.</div>
                                    <div class="notification-time">
                                        <i class="far fa-clock"></i> 3 days ago
                                    </div>
                                </div>
                            </div>
                            <div class="notification-item">
                                <div class="notification-icon">
                                    <i class="fas fa-question-circle"></i>
                                </div>
                                <div class="notification-content">
                                    <div class="notification-title">New Inquiry</div>
                                    <div class="notification-message">Robert Johnson asked about availability for December tours.</div>
                                    <div class="notification-time">
                                        <i class="far fa-clock"></i> 1 week ago
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="notification-actions">
                            <button class="btn btn-sm">View All Notifications</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboard-section">
            <!-- Stats -->
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-suitcase"></i>
                    </div>
                    <div class="stat-title">Total Packages</div>
                    <div class="stat-value">24</div>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> 12% from last month
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-calendar"></i>
                    </div>
                    <div class="stat-title">Upcoming Events</div>
                    <div class="stat-value">8</div>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> 5% from last month
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="stat-title">New Bookings</div>
                    <div class="stat-value" id="total-bookings">15</div>
                    <div class="stat-change negative">
                        <i class="fas fa-arrow-down"></i> 3% from last month
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="stat-title">Revenue</div>
                    <div class="stat-value" id="total-revenue">$12,450</div>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i> 22% from last month
                    </div>
                </div>
            </div>

            <!-- Recent Bookings -->
            <div class="recent-bookings">
                <div class="section-header">
                    <h3>Recent Bookings</h3>
                    <div class="chart-controls">
                        <select id="recent-year-filter">
                            <option value="all">All Years</option>
                            <option value="2023" selected>2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                        </select>
                        <select id="recent-month-filter">
                            <option value="all">All Months</option>
                            <option value="1">January</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9">September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                        <button class="btn" id="view-all-bookings">
                            <i class="fas fa-plus"></i> View All
                        </button>
                    </div>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Booking ID</th>
                                <th>Customer</th>
                                <th>Email</th>
                                <th>Package</th>
                                <th>Date</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="recent-bookings-body">
                            <!-- Bookings will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Packages Section -->
        <div id="packages-section" class="packages-section">
            <div class="section-header">
                <h2>Tour Packages Management</h2>
                <button class="btn" id="add-package-btn">
                    <i class="fas fa-plus"></i> Add New Package
                </button>
            </div>
            
            <div class="filters">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search packages...">
                </div>
                <div>
                    <button class="btn">
                        <i class="fas fa-filter"></i> Filter
                    </button>
                </div>
            </div>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Package ID</th>
                            <th>Package Name</th>
                            <th>Type</th>
                            <th>Duration</th>
                            <th>Price</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>#PK-1001</td>
                            <td>Bhutan Cultural Tour</td>
                            <td>Cultural</td>
                            <td>7 Days</td>
                            <td>$1,200</td>
                            <td><span class="status confirmed">Active</span></td>
                            <td>
                                <button class="action-btn view-package-btn" data-id="PK-1001"><i class="fas fa-eye"></i></button>
                                <button class="action-btn edit-package-btn" data-id="PK-1001"><i class="fas fa-edit"></i></button>
                                <button class="action-btn delete-package-btn" data-id="PK-1001"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                        <tr>
                            <td>#PK-1002</td>
                            <td>Himalayan Trek Adventure</td>
                            <td>Adventure</td>
                            <td>10 Days</td>
                            <td>$1,800</td>
                            <td><span class="status confirmed">Active</span></td>
                            <td>
                                <button class="action-btn view-package-btn" data-id="PK-1002"><i class="fas fa-eye"></i></button>
                                <button class="action-btn edit-package-btn" data-id="PK-1002"><i class="fas fa-edit"></i></button>
                                <button class="action-btn delete-package-btn" data-id="PK-1002"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                        <tr>
                            <td>#PK-1003</td>
                            <td>Bhutan Festival Experience</td>
                            <td>Festival</td>
                            <td>5 Days</td>
                            <td>$2,500</td>
                            <td><span class="status pending">Upcoming</span></td>
                            <td>
                                <button class="action-btn view-package-btn" data-id="PK-1003"><i class="fas fa-eye"></i></button>
                                <button class="action-btn edit-package-btn" data-id="PK-1003"><i class="fas fa-edit"></i></button>
                                <button class="action-btn delete-package-btn" data-id="PK-1003"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                        <tr>
                            <td>#PK-1004</td>
                            <td>Bhutan Luxury Retreat</td>
                            <td>Luxury</td>
                            <td>8 Days</td>
                            <td>$3,200</td>
                            <td><span class="status confirmed">Active</span></td>
                            <td>
                                <button class="action-btn view-package-btn" data-id="PK-1004"><i class="fas fa-eye"></i></button>
                                <button class="action-btn edit-package-btn" data-id="PK-1004"><i class="fas fa-edit"></i></button>
                                <button class="action-btn delete-package-btn" data-id="PK-1004"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Events Section -->
        <div id="events-section" class="events-section">
            <div class="section-header">
                <h2>Upcoming Events Management</h2>
                <button class="btn" id="add-event-btn">
                    <i class="fas fa-plus"></i> Add New Event
                </button>
            </div>
            
            <div class="filters">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search events...">
                </div>
                <div>
                    <button class="btn">
                        <i class="fas fa-filter"></i> Filter
                    </button>
                </div>
            </div>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Event ID</th>
                            <th>Event Name</th>
                            <th>Category</th>
                            <th>Date</th>
                            <th>Duration</th>
                            <th>Location</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>#EV-1001</td>
                            <td>Thimphu Tshechu Festival</td>
                            <td>Festival</td>
                            <td>15-17 Nov 2023</td>
                            <td><span class="event-countdown" data-end="2023-11-17"></span></td>
                            <td>Tashichho Dzong, Thimphu</td>
                            <td><span class="status pending">Upcoming</span></td>
                            <td>
                                <button class="action-btn view-event-btn" data-id="EV-1001"><i class="fas fa-eye"></i></button>
                                <button class="action-btn edit-event-btn" data-id="EV-1001"><i class="fas fa-edit"></i></button>
                                <button class="action-btn delete-event-btn" data-id="EV-1001"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                        <tr>
                            <td>#EV-1002</td>
                            <td>Bhutanese Cooking Workshop</td>
                            <td>Workshop</td>
                            <td>20 Nov 2023</td>
                            <td><span class="event-countdown" data-end="2023-11-20"></span></td>
                            <td>Bhutan Culinary Institute</td>
                            <td><span class="status pending">Upcoming</span></td>
                            <td>
                                <button class="action-btn view-event-btn" data-id="EV-1002"><i class="fas fa-eye"></i></button>
                                <button class="action-btn edit-event-btn" data-id="EV-1002"><i class="fas fa-edit"></i></button>
                                <button class="action-btn delete-event-btn" data-id="EV-1002"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                        <tr>
                            <td>#EV-1003</td>
                            <td>Traditional Archery Competition</td>
                            <td>Sports</td>
                            <td>25 Nov 2023</td>
                            <td><span class="event-countdown" data-end="2023-11-25"></span></td>
                            <td>Changlimithang Stadium</td>
                            <td><span class="status pending">Upcoming</span></td>
                            <td>
                                <button class="action-btn view-event-btn" data-id="EV-1003"><i class="fas fa-eye"></i></button>
                                <button class="action-btn edit-event-btn" data-id="EV-1003"><i class="fas fa-edit"></i></button>
                                <button class="action-btn delete-event-btn" data-id="EV-1003"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Bookings Section -->
        <div id="bookings-section" class="bookings-section">
            <div class="section-header">
                <h2>Bookings Management</h2>
                <button class="btn" id="view-all-bookings-2">
                    <i class="fas fa-plus"></i> View All
                </button>
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Booking ID</th>
                            <th>Customer</th>
                            <th>Email</th>
                            <th>Package</th>
                            <th>Date</th>
                            <th>Amount</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="all-bookings-body">
                        <!-- All bookings will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Add Package Modal -->
    <div class="modal-backdrop" id="package-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Tour Package</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="package-form">
                    <!-- Main Image Upload -->
                    <div class="image-upload">
                        <label>Main Package Image</label>
                        <div class="image-upload-preview">
                            <div class="image-upload-placeholder">
                                <i class="fas fa-image"></i>
                                <p>Click to upload main image</p>
                            </div>
                            <input type="file" id="package-image" accept="image/*" style="display: none;">
                            <button type="button" class="image-upload-remove" style="display: none;">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Carousel Images Upload -->
                    <div class="image-upload">
                        <label>Carousel Images (Up to 3)</label>
                        <div class="carousel-upload-container">
                            <div class="carousel-upload-item">
                                <div class="image-upload-preview">
                                    <div class="image-upload-placeholder">
                                        <i class="fas fa-image"></i>
                                        <p>Image 1</p>
                                    </div>
                                    <input type="file" class="carousel-image" accept="image/*" style="display: none;">
                                    <button type="button" class="image-upload-remove" style="display: none;">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="carousel-upload-item">
                                <div class="image-upload-preview">
                                    <div class="image-upload-placeholder">
                                        <i class="fas fa-image"></i>
                                        <p>Image 2</p>
                                    </div>
                                    <input type="file" class="carousel-image" accept="image/*" style="display: none;">
                                    <button type="button" class="image-upload-remove" style="display: none;">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="carousel-upload-item">
                                <div class="image-upload-preview">
                                    <div class="image-upload-placeholder">
                                        <i class="fas fa-image"></i>
                                        <p>Image 3</p>
                                    </div>
                                    <input type="file" class="carousel-image" accept="image/*" style="display: none;">
                                    <button type="button" class="image-upload-remove" style="display: none;">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="package-name">Package Name</label>
                            <input type="text" id="package-name" required>
                        </div>
                        <div class="form-group">
                            <label for="package-type">Package Type</label>
                            <select id="package-type" required>
                                <option value="">Select type</option>
                                <option value="cultural">Cultural</option>
                                <option value="adventure">Adventure</option>
                                <option value="luxury">Luxury</option>
                                <option value="festival">Festival</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="duration">Duration (Days)</label>
                            <input type="number" id="duration" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="price">Price ($)</label>
                            <input type="number" id="price" min="0" step="0.01" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="locations">Locations</label>
                        <input type="text" id="locations" placeholder="Separate locations with commas" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="description">Package Description</label>
                        <textarea id="description" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="highlights">Tour Highlights</label>
                        <textarea id="highlights" placeholder="Separate highlights with commas" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="included">What's Included</label>
                        <textarea id="included" placeholder="Separate items with commas" required></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                        <button type="submit" class="btn">Save Package</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- View Package Modal -->
    <div class="modal-backdrop" id="view-package-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Package Details</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="booking-details">
                    <div class="booking-section">
                        <h4>Package Information</h4>
                        <div class="booking-field">
                            <div class="booking-label">Package ID:</div>
                            <div class="booking-value" id="view-package-id">#PK-1001</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Name:</div>
                            <div class="booking-value" id="view-package-name">Bhutan Cultural Tour</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Type:</div>
                            <div class="booking-value" id="view-package-type">Cultural</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Duration:</div>
                            <div class="booking-value" id="view-package-duration">7 Days</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Price:</div>
                            <div class="booking-value" id="view-package-price">$1,200</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Status:</div>
                            <div class="booking-value"><span class="status confirmed">Active</span></div>
                        </div>
                    </div>
                    
                    <div class="booking-section">
                        <h4>Package Details</h4>
                        <div class="booking-field">
                            <div class="booking-label">Locations:</div>
                            <div class="booking-value" id="view-package-locations">Thimphu, Paro, Punakha</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Description:</div>
                            <div class="booking-value" id="view-package-description">Experience the rich culture of Bhutan with visits to ancient dzongs, monasteries, and traditional villages.</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Highlights:</div>
                            <div class="booking-value" id="view-package-highlights">Tiger's Nest Monastery, Punakha Dzong, Traditional Bhutanese meals, Cultural performances</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">What's Included:</div>
                            <div class="booking-value" id="view-package-included">Accommodation, Meals, Transportation, English-speaking guide, Entrance fees</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary close-modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Package Modal -->
    <div class="modal-backdrop" id="edit-package-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Tour Package</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-package-form">
                    <input type="hidden" id="edit-package-id">
                    
                    <!-- Main Image Upload -->
                    <div class="image-upload">
                        <label>Main Package Image</label>
                        <div class="image-upload-preview" id="edit-package-image-preview">
                            <div class="image-upload-placeholder">
                                <i class="fas fa-image"></i>
                                <p>Click to upload main image</p>
                            </div>
                            <input type="file" id="edit-package-image" accept="image/*" style="display: none;">
                            <button type="button" class="image-upload-remove" style="display: none;">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-package-name">Package Name</label>
                            <input type="text" id="edit-package-name" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-package-type">Package Type</label>
                            <select id="edit-package-type" required>
                                <option value="">Select type</option>
                                <option value="cultural">Cultural</option>
                                <option value="adventure">Adventure</option>
                                <option value="luxury">Luxury</option>
                                <option value="festival">Festival</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-duration">Duration (Days)</label>
                            <input type="number" id="edit-duration" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-price">Price ($)</label>
                            <input type="number" id="edit-price" min="0" step="0.01" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-locations">Locations</label>
                        <input type="text" id="edit-locations" placeholder="Separate locations with commas" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-description">Package Description</label>
                        <textarea id="edit-description" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-highlights">Tour Highlights</label>
                        <textarea id="edit-highlights" placeholder="Separate highlights with commas" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-included">What's Included</label>
                        <textarea id="edit-included" placeholder="Separate items with commas" required></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                        <button type="submit" class="btn">Update Package</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Delete Package Confirmation Modal -->
    <div class="modal-backdrop" id="delete-package-modal">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3>Delete Package</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="delete-confirmation">
                    <h3>Confirm Deletion</h3>
                    <p>Are you sure you want to delete this package? This action cannot be undone.</p>
                    <div class="delete-actions">
                        <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                        <button type="button" class="btn btn-danger" id="confirm-delete-package">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Event Modal -->
    <div class="modal-backdrop" id="event-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Event</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="event-form">
                    <div class="image-upload">
                        <label>Event Image</label>
                        <div class="image-upload-preview">
                            <div class="image-upload-placeholder">
                                <i class="fas fa-image"></i>
                                <p>Click to upload image</p>
                            </div>
                            <input type="file" id="event-image" accept="image/*" style="display: none;">
                            <button type="button" class="image-upload-remove" style="display: none;">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-name">Event Name</label>
                        <input type="text" id="event-name" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="event-category">Category</label>
                            <select id="event-category" required>
                                <option value="">Select category</option>
                                <option value="festival">Festival</option>
                                <option value="concert">Concert</option>
                                <option value="workshop">Workshop</option>
                                <option value="exhibition">Exhibition</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="event-status">Status</label>
                            <select id="event-status" required>
                                <option value="upcoming">Upcoming</option>
                                <option value="ongoing">Ongoing</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="start-date">Start Date</label>
                            <input type="date" id="start-date" required>
                        </div>
                        <div class="form-group">
                            <label for="end-date">End Date</label>
                            <input type="date" id="end-date" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-location">Location</label>
                        <input type="text" id="event-location" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-description">Event Description</label>
                        <textarea id="event-description" required></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                        <button type="submit" class="btn">Save Event</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- View Event Modal -->
    <div class="modal-backdrop" id="view-event-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Event Details</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="booking-details">
                    <div class="booking-section">
                        <h4>Event Information</h4>
                        <div class="booking-field">
                            <div class="booking-label">Event ID:</div>
                            <div class="booking-value" id="view-event-id">#EV-1001</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Name:</div>
                            <div class="booking-value" id="view-event-name">Thimphu Tshechu Festival</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Category:</div>
                            <div class="booking-value" id="view-event-category">Festival</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Status:</div>
                            <div class="booking-value"><span class="status pending">Upcoming</span></div>
                        </div>
                    </div>
                    
                    <div class="booking-section">
                        <h4>Event Schedule</h4>
                        <div class="booking-field">
                            <div class="booking-label">Start Date:</div>
                            <div class="booking-value" id="view-event-start-date">15 Nov 2023</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">End Date:</div>
                            <div class="booking-value" id="view-event-end-date">17 Nov 2023</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Time Until Event:</div>
                            <div class="booking-value" id="view-event-countdown"></div>
                        </div>
                    </div>
                    
                    <div class="booking-section">
                        <h4>Event Location</h4>
                        <div class="booking-field">
                            <div class="booking-label">Location:</div>
                            <div class="booking-value" id="view-event-location">Tashichho Dzong, Thimphu</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Description:</div>
                            <div class="booking-value" id="view-event-description">The Thimphu Tshechu is one of the biggest festivals in Bhutan. It is held annually in the capital city and features masked dances and religious performances.</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary close-modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Event Modal -->
    <div class="modal-backdrop" id="edit-event-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Event</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-event-form">
                    <input type="hidden" id="edit-event-id">
                    
                    <div class="image-upload">
                        <label>Event Image</label>
                        <div class="image-upload-preview" id="edit-event-image-preview">
                            <div class="image-upload-placeholder">
                                <i class="fas fa-image"></i>
                                <p>Click to upload image</p>
                            </div>
                            <input type="file" id="edit-event-image" accept="image/*" style="display: none;">
                            <button type="button" class="image-upload-remove" style="display: none;">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-event-name">Event Name</label>
                        <input type="text" id="edit-event-name" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-event-category">Category</label>
                            <select id="edit-event-category" required>
                                <option value="">Select category</option>
                                <option value="festival">Festival</option>
                                <option value="concert">Concert</option>
                                <option value="workshop">Workshop</option>
                                <option value="exhibition">Exhibition</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-event-status">Status</label>
                            <select id="edit-event-status" required>
                                <option value="upcoming">Upcoming</option>
                                <option value="ongoing">Ongoing</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-start-date">Start Date</label>
                            <input type="date" id="edit-start-date" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-end-date">End Date</label>
                            <input type="date" id="edit-end-date" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-event-location">Location</label>
                        <input type="text" id="edit-event-location" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-event-description">Event Description</label>
                        <textarea id="edit-event-description" required></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                        <button type="submit" class="btn">Update Event</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Delete Event Confirmation Modal -->
    <div class="modal-backdrop" id="delete-event-modal">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3>Delete Event</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="delete-confirmation">
                    <h3>Confirm Deletion</h3>
                    <p>Are you sure you want to delete this event? This action cannot be undone.</p>
                    <div class="delete-actions">
                        <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                        <button type="button" class="btn btn-danger" id="confirm-delete-event">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Booking Details Modal -->
    <div class="modal-backdrop" id="booking-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Booking Details</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="booking-details">
                    <div class="booking-section">
                        <h4>Booking Information</h4>
                        <div class="booking-field">
                            <div class="booking-label">Booking ID:</div>
                            <div class="booking-value" id="booking-id">#BK-1001</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Status:</div>
                            <div class="booking-value"><span class="status confirmed">Confirmed</span></div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Booking Date:</div>
                            <div class="booking-value" id="booking-date">10 Nov 2023</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Tour Date:</div>
                            <div class="booking-value" id="tour-date">15 Nov - 22 Nov 2023</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Total Amount:</div>
                            <div class="booking-value" id="booking-amount">$1,200</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Payment Status:</div>
                            <div class="booking-value" id="payment-status">Paid</div>
                        </div>
                    </div>
                    
                    <div class="booking-section">
                        <h4>Customer Information</h4>
                        <div class="booking-field">
                            <div class="booking-label">Name:</div>
                            <div class="booking-value" id="customer-name">John Smith</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Email:</div>
                            <div class="booking-value" id="customer-email">john.smith@example.com</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Phone:</div>
                            <div class="booking-value" id="customer-phone">+1 (555) 123-4567</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Address:</div>
                            <div class="booking-value" id="customer-address">123 Main St, New York, NY 10001</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Special Requests:</div>
                            <div class="booking-value" id="special-requests">Vegetarian meals required</div>
                        </div>
                    </div>
                    
                    <div class="booking-section">
                        <h4>Tour Package</h4>
                        <div class="booking-field">
                            <div class="booking-label">Package Name:</div>
                            <div class="booking-value" id="package-name">Bhutan Cultural Tour</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Duration:</div>
                            <div class="booking-value" id="package-duration">7 Days</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Participants:</div>
                            <div class="booking-value" id="participants">2 Adults</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Vehicle Type:</div>
                            <div class="booking-value" id="vehicle-type">Luxury SUV</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Guide:</div>
                            <div class="booking-value" id="guide-name">Yeshi Dorji (English Speaking)</div>
                        </div>
                    </div>
                    
                    <div class="booking-section">
                        <h4>Form Data</h4>
                        <div class="booking-field">
                            <div class="booking-label">Arrival Date:</div>
                            <div class="booking-value" id="arrival-date">15 Nov 2023</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Departure Date:</div>
                            <div class="booking-value" id="departure-date">22 Nov 2023</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Number of People:</div>
                            <div class="booking-value" id="num-people">2</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Dietary Restrictions:</div>
                            <div class="booking-value" id="dietary-restrictions">Vegetarian</div>
                        </div>
                        <div class="booking-field">
                            <div class="booking-label">Emergency Contact:</div>
                            <div class="booking-value" id="emergency-contact">Jane Smith (+1 555 987-6543)</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary close-modal">Close</button>
                    <button type="button" class="btn" id="print-booking">Print Booking</button>
                    <button type="button" class="btn" id="send-confirmation">Send Confirmation</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Booking Modal -->
    <div class="modal-backdrop" id="edit-booking-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Booking</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-booking-form">
                    <input type="hidden" id="edit-booking-id">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-booking-status">Status</label>
                            <select id="edit-booking-status" required>
                                <option value="confirmed">Confirmed</option>
                                <option value="pending">Pending</option>
                                <option value="cancelled">Cancelled</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-payment-status">Payment Status</label>
                            <select id="edit-payment-status" required>
                                <option value="paid">Paid</option>
                                <option value="pending">Pending</option>
                                <option value="deposit">Deposit</option>
                                <option value="refunded">Refunded</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-customer-name">Customer Name</label>
                            <input type="text" id="edit-customer-name" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-customer-email">Email</label>
                            <input type="email" id="edit-customer-email" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-customer-phone">Phone</label>
                            <input type="tel" id="edit-customer-phone" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-package">Package</label>
                            <select id="edit-package" required>
                                <option value="Bhutan Cultural Tour">Bhutan Cultural Tour</option>
                                <option value="Himalayan Trek Adventure">Himalayan Trek Adventure</option>
                                <option value="Bhutan Festival Experience">Bhutan Festival Experience</option>
                                <option value="Bhutan Luxury Retreat">Bhutan Luxury Retreat</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-tour-date">Tour Start Date</label>
                            <input type="date" id="edit-tour-date" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-end-date">Tour End Date</label>
                            <input type="date" id="edit-end-date" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-amount">Amount ($)</label>
                            <input type="number" id="edit-amount" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-participants">Participants</label>
                            <input type="text" id="edit-participants" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-special-requests">Special Requests</label>
                        <textarea id="edit-special-requests"></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                        <button type="submit" class="btn">Update Booking</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Delete Booking Confirmation Modal -->
    <div class="modal-backdrop" id="delete-booking-modal">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3>Delete Booking</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="delete-confirmation">
                    <h3>Confirm Deletion</h3>
                    <p>Are you sure you want to delete this booking? This action cannot be undone.</p>
                    <div class="delete-actions">
                        <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                        <button type="button" class="btn btn-danger" id="confirm-delete-booking">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample booking data
        let bookings = [
            {
                id: 'BK-1001',
                customer: 'John Smith',
                email: 'john.smith@example.com',
                package: 'Bhutan Cultural Tour',
                bookingDate: '2023-11-10',
                tourDate: '2023-11-15',
                endDate: '2023-11-22',
                amount: 1200,
                status: 'confirmed',
                paymentStatus: 'paid',
                phone: '+1 (555) 123-4567',
                address: '123 Main St, New York, NY 10001',
                requests: 'Vegetarian meals required',
                duration: '7 Days',
                participants: '2 Adults',
                vehicle: 'Luxury SUV',
                guide: 'Yeshi Dorji (English Speaking)',
                dietary: 'Vegetarian',
                emergencyContact: 'Jane Smith (+1 555 987-6543)'
            },
            {
                id: 'BK-1002',
                customer: 'Sarah Johnson',
                email: 'sarah.j@example.com',
                package: 'Himalayan Trek',
                bookingDate: '2023-11-12',
                tourDate: '2023-11-18',
                endDate: '2023-11-28',
                amount: 1800,
                status: 'pending',
                paymentStatus: 'pending',
                phone: '+1 (555) 234-5678',
                address: '456 Oak Ave, Los Angeles, CA 90001',
                requests: 'None',
                duration: '10 Days',
                participants: '1 Adult',
                vehicle: 'Standard SUV',
                guide: 'Tashi Wangchuk (English Speaking)',
                dietary: 'None',
                emergencyContact: 'Mike Johnson (+1 555 876-5432)'
            },
            {
                id: 'BK-1003',
                customer: 'Michael Brown',
                email: 'michael.b@example.com',
                package: 'Bhutan Festival Tour',
                bookingDate: '2023-11-05',
                tourDate: '2023-11-20',
                endDate: '2023-11-25',
                amount: 2500,
                status: 'confirmed',
                paymentStatus: 'paid',
                phone: '+1 (555) 345-6789',
                address: '789 Pine Rd, Chicago, IL 60007',
                requests: 'Private guide requested',
                duration: '5 Days',
                participants: '4 Adults',
                vehicle: 'Premium Van',
                guide: 'Karma Dorji (English Speaking)',
                dietary: 'Gluten-free',
                emergencyContact: 'Lisa Brown (+1 555 765-4321)'
            },
            {
                id: 'BK-1004',
                customer: 'Emily Davis',
                email: 'emily.d@example.com',
                package: 'Bhutan Luxury Tour',
                bookingDate: '2023-10-28',
                tourDate: '2023-11-22',
                endDate: '2023-11-30',
                amount: 3200,
                status: 'cancelled',
                paymentStatus: 'refunded',
                phone: '+1 (555) 456-7890',
                address: '321 Elm St, Houston, TX 77001',
                requests: 'Luxury accommodation',
                duration: '8 Days',
                participants: '2 Adults',
                vehicle: 'Luxury SUV',
                guide: 'Pema Yangchen (English Speaking)',
                dietary: 'Vegetarian',
                emergencyContact: 'Robert Davis (+1 555 654-3210)'
            },
            {
                id: 'BK-1005',
                customer: 'David Wilson',
                email: 'david.w@example.com',
                package: 'Bhutan Cultural Tour',
                bookingDate: '2023-11-15',
                tourDate: '2023-12-10',
                endDate: '2023-12-17',
                amount: 1200,
                status: 'confirmed',
                paymentStatus: 'paid',
                phone: '+1 (555) 567-8901',
                address: '654 Maple Dr, Phoenix, AZ 85001',
                requests: 'None',
                duration: '7 Days',
                participants: '1 Adult',
                vehicle: 'Standard SUV',
                guide: 'Sonam Dorji (English Speaking)',
                dietary: 'None',
                emergencyContact: 'Sarah Wilson (+1 555 543-2109)'
            },
            {
                id: 'BK-1006',
                customer: 'Jessica Martinez',
                email: 'jessica.m@example.com',
                package: 'Himalayan Trek',
                bookingDate: '2023-11-18',
                tourDate: '2023-12-05',
                endDate: '2023-12-15',
                amount: 1800,
                status: 'pending',
                paymentStatus: 'deposit',
                phone: '+1 (555) 678-9012',
                address: '987 Cedar Ln, Philadelphia, PA 19019',
                requests: 'Extra hiking equipment',
                duration: '10 Days',
                participants: '2 Adults',
                vehicle: 'Premium SUV',
                guide: 'Tenzin Wangyal (English Speaking)',
                dietary: 'Vegan',
                emergencyContact: 'Carlos Martinez (+1 555 432-1098)'
            },
            // Historical data for testing
            {
                id: 'BK-2022',
                customer: 'Robert Johnson',
                email: 'robert.j@example.com',
                package: 'Bhutan Festival Tour',
                bookingDate: '2022-10-15',
                tourDate: '2022-11-10',
                endDate: '2022-11-15',
                amount: 2500,
                status: 'confirmed',
                paymentStatus: 'paid',
                phone: '+1 (555) 789-0123',
                address: '159 Birch Blvd, San Antonio, TX 78201',
                requests: 'None',
                duration: '5 Days',
                participants: '3 Adults',
                vehicle: 'Standard Van',
                guide: 'Karma Wangchuk (English Speaking)',
                dietary: 'None',
                emergencyContact: 'Linda Johnson (+1 555 321-0987)'
            },
            {
                id: 'BK-2021',
                customer: 'Jennifer Lee',
                email: 'jennifer.l@example.com',
                package: 'Bhutan Luxury Tour',
                bookingDate: '2021-09-20',
                tourDate: '2021-10-15',
                endDate: '2021-10-23',
                amount: 3200,
                status: 'confirmed',
                paymentStatus: 'paid',
                phone: '+1 (555) 890-1234',
                address: '753 Walnut St, San Diego, CA 92101',
                requests: 'Private vehicle',
                duration: '8 Days',
                participants: '2 Adults',
                vehicle: 'Luxury SUV',
                guide: 'Dorji Wangmo (English Speaking)',
                dietary: 'Vegetarian',
                emergencyContact: 'Michael Lee (+1 555 210-9876)'
            }
        ];

        // Sample packages data
        const packages = [
            {
                id: 'PK-1001',
                name: 'Bhutan Cultural Tour',
                type: 'Cultural',
                duration: '7 Days',
                price: 1200,
                status: 'confirmed',
                locations: 'Thimphu, Paro, Punakha',
                description: 'Experience the rich culture of Bhutan with visits to ancient dzongs, monasteries, and traditional villages.',
                highlights: 'Tiger\'s Nest Monastery, Punakha Dzong, Traditional Bhutanese meals, Cultural performances',
                included: 'Accommodation, Meals, Transportation, English-speaking guide, Entrance fees'
            },
            {
                id: 'PK-1002',
                name: 'Himalayan Trek Adventure',
                type: 'Adventure',
                duration: '10 Days',
                price: 1800,
                status: 'confirmed',
                locations: 'Bumthang, Gangtey, Haa Valley',
                description: 'Trek through the breathtaking Himalayan landscapes and experience Bhutan\'s natural beauty.',
                highlights: 'Jhomolhari Trek, Hot stone baths, Camping under the stars, Mountain views',
                included: 'Camping equipment, Meals, Guide, Porter, Transportation'
            },
            {
                id: 'PK-1003',
                name: 'Bhutan Festival Experience',
                type: 'Festival',
                duration: '5 Days',
                price: 2500,
                status: 'pending',
                locations: 'Thimphu, Paro',
                description: 'Immerse yourself in Bhutan\'s vibrant festival culture with this special package.',
                highlights: 'Thimphu Tshechu festival, Masked dances, Traditional music, Local crafts',
                included: 'Premium accommodation, Festival passes, Guide, Meals, Transportation'
            },
            {
                id: 'PK-1004',
                name: 'Bhutan Luxury Retreat',
                type: 'Luxury',
                duration: '8 Days',
                price: 3200,
                status: 'confirmed',
                locations: 'Paro, Punakha, Gangtey',
                description: 'Experience Bhutan in ultimate comfort with our luxury retreat package.',
                highlights: '5-star accommodations, Private tours, Spa treatments, Gourmet dining',
                included: 'Luxury hotels, Private guide, All meals, Spa credits, Airport transfers'
            }
        ];

        // Sample events data
        const events = [
            {
                id: 'EV-1001',
                name: 'Thimphu Tshechu Festival',
                category: 'Festival',
                startDate: '2023-11-15',
                endDate: '2023-11-17',
                location: 'Tashichho Dzong, Thimphu',
                status: 'pending',
                description: 'The Thimphu Tshechu is one of the biggest festivals in Bhutan. It is held annually in the capital city and features masked dances and religious performances.'
            },
            {
                id: 'EV-1002',
                name: 'Bhutanese Cooking Workshop',
                category: 'Workshop',
                startDate: '2023-11-20',
                endDate: '2023-11-20',
                location: 'Bhutan Culinary Institute',
                status: 'pending',
                description: 'Learn to cook traditional Bhutanese dishes like Ema Datshi (chili cheese) and Momos (dumplings) in this hands-on workshop.'
            },
            {
                id: 'EV-1003',
                name: 'Traditional Archery Competition',
                category: 'Sports',
                startDate: '2023-11-25',
                endDate: '2023-11-25',
                location: 'Changlimithang Stadium',
                status: 'pending',
                description: 'Watch Bhutan\'s national sport in action as teams compete in traditional archery with bamboo bows and arrows.'
            }
        ];

        // Format date
        function formatDate(dateString) {
            const options = { day: 'numeric', month: 'short', year: 'numeric' };
            return new Date(dateString).toLocaleDateString('en-US', options);
        }

        // Format date range
        function formatDateRange(startDate, endDate) {
            const start = new Date(startDate);
            const end = new Date(endDate);
            
            if (start.getMonth() === end.getMonth()) {
                return `${start.getDate()} - ${end.getDate()} ${start.toLocaleString('default', { month: 'short' })} ${start.getFullYear()}`;
            } else {
                return `${start.getDate()} ${start.toLocaleString('default', { month: 'short' })} - ${end.getDate()} ${end.toLocaleString('default', { month: 'short' })} ${start.getFullYear()}`;
            }
        }

        // Get status class
        function getStatusClass(status) {
            switch(status) {
                case 'confirmed': return 'confirmed';
                case 'pending': return 'pending';
                case 'cancelled': return 'cancelled';
                default: return '';
            }
        }

        // Render recent bookings with filtering capability
        function renderRecentBookings(yearFilter = 'all', monthFilter = 'all') {
            const recentBookingsBody = document.getElementById('recent-bookings-body');
            recentBookingsBody.innerHTML = '';
            
            // Sort by booking date (newest first)
            let filteredBookings = [...bookings].sort((a, b) => new Date(b.bookingDate) - new Date(a.bookingDate));
            
            // Apply filters
            if (yearFilter !== 'all') {
                filteredBookings = filteredBookings.filter(b => new Date(b.bookingDate).getFullYear() == yearFilter);
            }
            
            if (monthFilter !== 'all') {
                filteredBookings = filteredBookings.filter(b => new Date(b.bookingDate).getMonth() + 1 == monthFilter);
            }
            
            // Get 4 most recent bookings (or all if filtered)
            const recent = filteredBookings.slice(0, 4);
            
            if (recent.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `<td colspan="8" style="text-align: center;">No bookings found for the selected filters</td>`;
                recentBookingsBody.appendChild(row);
                return;
            }
            
            recent.forEach(booking => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>#${booking.id}</td>
                    <td>${booking.customer}</td>
                    <td>${booking.email}</td>
                    <td>${booking.package}</td>
                    <td>${formatDate(booking.bookingDate)}</td>
                    <td>$${booking.amount.toLocaleString()}</td>
                    <td><span class="status ${getStatusClass(booking.status)}">${booking.status.charAt(0).toUpperCase() + booking.status.slice(1)}</span></td>
                    <td>
                        <button class="action-btn view-booking-btn" data-booking="${booking.id}"><i class="fas fa-eye"></i></button>
                        <button class="action-btn edit-booking-btn" data-booking="${booking.id}"><i class="fas fa-edit"></i></button>
                        <button class="action-btn delete-booking-btn" data-booking="${booking.id}"><i class="fas fa-trash"></i></button>
                    </td>
                `;
                recentBookingsBody.appendChild(row);
            });
            
            // Add event listeners to view buttons
            document.querySelectorAll('.view-booking-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookingId = this.getAttribute('data-booking');
                    viewBookingDetails(bookingId);
                });
            });
            
            // Add event listeners to edit buttons
            document.querySelectorAll('.edit-booking-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookingId = this.getAttribute('data-booking');
                    editBooking(bookingId);
                });
            });
            
            // Add event listeners to delete buttons
            document.querySelectorAll('.delete-booking-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookingId = this.getAttribute('data-booking');
                    confirmDeleteBooking(bookingId);
                });
            });
        }

        // View booking details
        function viewBookingDetails(bookingId) {
            const booking = bookings.find(b => b.id === bookingId);
            if (!booking) return;
            
            // Populate modal with booking data
            document.getElementById('booking-id').textContent = `#${booking.id}`;
            document.getElementById('booking-date').textContent = formatDate(booking.bookingDate);
            document.getElementById('tour-date').textContent = formatDateRange(booking.tourDate, booking.endDate);
            document.getElementById('booking-amount').textContent = `$${booking.amount.toLocaleString()}`;
            document.getElementById('payment-status').textContent = booking.paymentStatus.charAt(0).toUpperCase() + booking.paymentStatus.slice(1);
            
            document.getElementById('customer-name').textContent = booking.customer;
            document.getElementById('customer-email').textContent = booking.email;
            document.getElementById('customer-phone').textContent = booking.phone;
            document.getElementById('customer-address').textContent = booking.address;
            document.getElementById('special-requests').textContent = booking.requests || 'None';
            
            document.getElementById('package-name').textContent = booking.package;
            document.getElementById('package-duration').textContent = booking.duration;
            document.getElementById('participants').textContent = booking.participants;
            document.getElementById('vehicle-type').textContent = booking.vehicle;
            document.getElementById('guide-name').textContent = booking.guide;
            
            document.getElementById('arrival-date').textContent = formatDate(booking.tourDate);
            document.getElementById('departure-date').textContent = formatDate(booking.endDate);
            document.getElementById('num-people').textContent = booking.participants;
            document.getElementById('dietary-restrictions').textContent = booking.dietary || 'None';
            document.getElementById('emergency-contact').textContent = booking.emergencyContact;
            
            // Update status class
            const statusElement = document.querySelector('#booking-modal .status');
            statusElement.className = 'status ' + getStatusClass(booking.status);
            statusElement.textContent = booking.status.charAt(0).toUpperCase() + booking.status.slice(1);
            
            // Show modal
            document.getElementById('booking-modal').style.display = 'flex';
        }

        // Edit booking function
        function editBooking(bookingId) {
            const booking = bookings.find(b => b.id === bookingId);
            if (!booking) return;
            
            // Populate the edit form
            document.getElementById('edit-booking-id').value = booking.id;
            document.getElementById('edit-booking-status').value = booking.status;
            document.getElementById('edit-payment-status').value = booking.paymentStatus;
            document.getElementById('edit-customer-name').value = booking.customer;
            document.getElementById('edit-customer-email').value = booking.email;
            document.getElementById('edit-customer-phone').value = booking.phone;
            document.getElementById('edit-package').value = booking.package;
            document.getElementById('edit-tour-date').value = booking.tourDate;
            document.getElementById('edit-end-date').value = booking.endDate;
            document.getElementById('edit-amount').value = booking.amount;
            document.getElementById('edit-participants').value = booking.participants;
            document.getElementById('edit-special-requests').value = booking.requests || '';
            
            // Show the edit modal
            document.getElementById('edit-booking-modal').style.display = 'flex';
        }

        // Confirm delete booking
        function confirmDeleteBooking(bookingId) {
            const booking = bookings.find(b => b.id === bookingId);
            if (!booking) return;
            
            // Store the booking ID to delete
            document.getElementById('confirm-delete-booking').setAttribute('data-booking', bookingId);
            
            // Show the delete confirmation modal
            document.getElementById('delete-booking-modal').style.display = 'flex';
        }

        // Delete booking function
        function deleteBooking(bookingId) {
            bookings = bookings.filter(b => b.id !== bookingId);
            
            // Re-render the bookings
            renderRecentBookings();
            renderAllBookings();
            updateStats();
            
            // Show success message
            alert(`Booking #${bookingId} has been deleted successfully.`);
        }

        // View package details
        function viewPackageDetails(packageId) {
            const pkg = packages.find(p => p.id === packageId);
            if (!pkg) return;
            
            // Populate the view modal
            document.getElementById('view-package-id').textContent = `#${pkg.id}`;
            document.getElementById('view-package-name').textContent = pkg.name;
            document.getElementById('view-package-type').textContent = pkg.type;
            document.getElementById('view-package-duration').textContent = pkg.duration;
            document.getElementById('view-package-price').textContent = `$${pkg.price.toLocaleString()}`;
            document.getElementById('view-package-locations').textContent = pkg.locations;
            document.getElementById('view-package-description').textContent = pkg.description;
            document.getElementById('view-package-highlights').textContent = pkg.highlights;
            document.getElementById('view-package-included').textContent = pkg.included;
            
            // Update status
            const statusElement = document.querySelector('#view-package-modal .status');
            statusElement.className = 'status ' + getStatusClass(pkg.status);
            statusElement.textContent = pkg.status.charAt(0).toUpperCase() + pkg.status.slice(1);
            
            // Show the view modal
            document.getElementById('view-package-modal').style.display = 'flex';
        }

        // Edit package function
        function editPackage(packageId) {
            const pkg = packages.find(p => p.id === packageId);
            if (!pkg) return;
            
            // Populate the edit form
            document.getElementById('edit-package-id').value = pkg.id;
            document.getElementById('edit-package-name').value = pkg.name;
            document.getElementById('edit-package-type').value = pkg.type;
            document.getElementById('edit-duration').value = parseInt(pkg.duration);
            document.getElementById('edit-price').value = pkg.price;
            document.getElementById('edit-locations').value = pkg.locations;
            document.getElementById('edit-description').value = pkg.description;
            document.getElementById('edit-highlights').value = pkg.highlights;
            document.getElementById('edit-included').value = pkg.included;
            
            // Show the edit modal
            document.getElementById('edit-package-modal').style.display = 'flex';
        }

        // Confirm delete package
        function confirmDeletePackage(packageId) {
            // Store the package ID to delete
            document.getElementById('confirm-delete-package').setAttribute('data-package', packageId);
            
            // Show the delete confirmation modal
            document.getElementById('delete-package-modal').style.display = 'flex';
        }

        // View event details
        function viewEventDetails(eventId) {
            const event = events.find(e => e.id === eventId);
            if (!event) return;
            
            // Populate the view modal
            document.getElementById('view-event-id').textContent = `#${event.id}`;
            document.getElementById('view-event-name').textContent = event.name;
            document.getElementById('view-event-category').textContent = event.category;
            document.getElementById('view-event-start-date').textContent = formatDate(event.startDate);
            document.getElementById('view-event-end-date').textContent = formatDate(event.endDate);
            document.getElementById('view-event-location').textContent = event.location;
            document.getElementById('view-event-description').textContent = event.description;
            
            // Update status
            const statusElement = document.querySelector('#view-event-modal .status');
            statusElement.className = 'status ' + getStatusClass(event.status);
            statusElement.textContent = event.status.charAt(0).toUpperCase() + event.status.slice(1);
            
            // Update countdown
            updateEventCountdown(event.endDate, 'view-event-countdown');
            
            // Show the view modal
            document.getElementById('view-event-modal').style.display = 'flex';
        }

        // Edit event function
        function editEvent(eventId) {
            const event = events.find(e => e.id === eventId);
            if (!event) return;
            
            // Populate the edit form
            document.getElementById('edit-event-id').value = event.id;
            document.getElementById('edit-event-name').value = event.name;
            document.getElementById('edit-event-category').value = event.category;
            document.getElementById('edit-event-status').value = event.status;
            document.getElementById('edit-start-date').value = event.startDate;
            document.getElementById('edit-end-date').value = event.endDate;
            document.getElementById('edit-event-location').value = event.location;
            document.getElementById('edit-event-description').value = event.description;
            
            // Show the edit modal
            document.getElementById('edit-event-modal').style.display = 'flex';
        }

        // Confirm delete event
        function confirmDeleteEvent(eventId) {
            // Store the event ID to delete
            document.getElementById('confirm-delete-event').setAttribute('data-event', eventId);
            
            // Show the delete confirmation modal
            document.getElementById('delete-event-modal').style.display = 'flex';
        }

        // Update event countdown
        function updateEventCountdown(endDate, elementId) {
            const end = new Date(endDate);
            const now = new Date();
            const diff = end - now;
            
            if (diff <= 0) {
                document.getElementById(elementId).innerHTML = 'Event has ended';
                return;
            }
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            document.getElementById(elementId).innerHTML = `
                <div class="countdown-item">
                    <div class="countdown-value">${days}</div>
                    <div class="countdown-label">Days</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-value">${hours}</div>
                    <div class="countdown-label">Hours</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-value">${minutes}</div>
                    <div class="countdown-label">Mins</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-value">${seconds}</div>
                    <div class="countdown-label">Secs</div>
                </div>
            `;
        }

        // Render all bookings
        function renderAllBookings() {
            const allBookingsBody = document.getElementById('all-bookings-body');
            allBookingsBody.innerHTML = '';
            
            // Sort by booking date (newest first)
            const sortedBookings = [...bookings].sort((a, b) => new Date(b.bookingDate) - new Date(a.bookingDate));
            
            sortedBookings.forEach(booking => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>#${booking.id}</td>
                    <td>${booking.customer}</td>
                    <td>${booking.email}</td>
                    <td>${booking.package}</td>
                    <td>${formatDate(booking.bookingDate)}</td>
                    <td>$${booking.amount.toLocaleString()}</td>
                    <td><span class="status ${getStatusClass(booking.status)}">${booking.status.charAt(0).toUpperCase() + booking.status.slice(1)}</span></td>
                    <td>
                        <button class="action-btn view-booking-btn" data-booking="${booking.id}"><i class="fas fa-eye"></i></button>
                        <button class="action-btn edit-booking-btn" data-booking="${booking.id}"><i class="fas fa-edit"></i></button>
                        <button class="action-btn delete-booking-btn" data-booking="${booking.id}"><i class="fas fa-trash"></i></button>
                    </td>
                `;
                allBookingsBody.appendChild(row);
            });
            
            // Add event listeners to view buttons
            document.querySelectorAll('.view-booking-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookingId = this.getAttribute('data-booking');
                    viewBookingDetails(bookingId);
                });
            });
            
            // Add event listeners to edit buttons
            document.querySelectorAll('.edit-booking-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookingId = this.getAttribute('data-booking');
                    editBooking(bookingId);
                });
            });
            
            // Add event listeners to delete buttons
            document.querySelectorAll('.delete-booking-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookingId = this.getAttribute('data-booking');
                    confirmDeleteBooking(bookingId);
                });
            });
        }

        // Update stats
        function updateStats() {
            // Total bookings
            const totalBookings = bookings.filter(b => new Date(b.bookingDate).getFullYear() === new Date().getFullYear()).length;
            document.getElementById('total-bookings').textContent = totalBookings;
            
            // Total revenue
            const totalRevenue = bookings
                .filter(b => new Date(b.bookingDate).getFullYear() === new Date().getFullYear())
                .reduce((sum, booking) => sum + booking.amount, 0);
            document.getElementById('total-revenue').textContent = `$${totalRevenue.toLocaleString()}`;
        }

        // Initialize image upload functionality
        function initImageUpload() {
            // Main image upload
            const packageImageInput = document.getElementById('package-image');
            const packageImagePreview = document.querySelector('#package-modal .image-upload-preview');
            const packageImagePlaceholder = document.querySelector('#package-modal .image-upload-placeholder');
            const packageImageRemove = document.querySelector('#package-modal .image-upload-remove');
            
            packageImagePreview.addEventListener('click', function() {
                packageImageInput.click();
            });
            
            packageImageInput.addEventListener('change', function() {
                if (this.files && this.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        packageImagePlaceholder.style.display = 'none';
                        packageImagePreview.innerHTML = `<img src="${e.target.result}" alt="Package Preview">`;
                        packageImageRemove.style.display = 'block';
                    }
                    
                    reader.readAsDataURL(this.files[0]);
                }
            });
            
            packageImageRemove.addEventListener('click', function(e) {
                e.stopPropagation();
                packageImageInput.value = '';
                packageImagePreview.innerHTML = '';
                packageImagePlaceholder.style.display = 'block';
                this.style.display = 'none';
            });
            
            // Carousel images upload
            const carouselUploads = document.querySelectorAll('.carousel-upload-item .image-upload-preview');
            
            carouselUploads.forEach((upload, index) => {
                const input = upload.parentElement.querySelector('.carousel-image');
                const placeholder = upload.querySelector('.image-upload-placeholder');
                const removeBtn = upload.querySelector('.image-upload-remove');
                
                upload.addEventListener('click', function() {
                    input.click();
                });
                
                input.addEventListener('change', function() {
                    if (this.files && this.files[0]) {
                        const reader = new FileReader();
                        
                        reader.onload = function(e) {
                            placeholder.style.display = 'none';
                            upload.innerHTML = `<img src="${e.target.result}" alt="Carousel Image ${index + 1}">`;
                            removeBtn.style.display = 'block';
                        }
                        
                        reader.readAsDataURL(this.files[0]);
                    }
                });
                
                removeBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    input.value = '';
                    upload.innerHTML = '';
                    placeholder.style.display = 'block';
                    this.style.display = 'none';
                });
            });
            
            // Event image upload
            const eventImageInput = document.getElementById('event-image');
            const eventImagePreview = document.querySelector('#event-modal .image-upload-preview');
            const eventImagePlaceholder = document.querySelector('#event-modal .image-upload-placeholder');
            const eventImageRemove = document.querySelector('#event-modal .image-upload-remove');
            
            eventImagePreview.addEventListener('click', function() {
                eventImageInput.click();
            });
            
            eventImageInput.addEventListener('change', function() {
                if (this.files && this.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        eventImagePlaceholder.style.display = 'none';
                        eventImagePreview.innerHTML = `<img src="${e.target.result}" alt="Event Preview">`;
                        eventImageRemove.style.display = 'block';
                    }
                    
                    reader.readAsDataURL(this.files[0]);
                }
            });
            
            eventImageRemove.addEventListener('click', function(e) {
                e.stopPropagation();
                eventImageInput.value = '';
                eventImagePreview.innerHTML = '';
                eventImagePlaceholder.style.display = 'block';
                this.style.display = 'none';
            });
        }

        // Initialize event countdown timers
        function initEventCountdowns() {
            function updateCountdowns() {
                const now = new Date();
                document.querySelectorAll('.event-countdown').forEach(countdown => {
                    const endDate = new Date(countdown.getAttribute('data-end'));
                    const diff = endDate - now;
                    
                    if (diff <= 0) {
                        countdown.innerHTML = 'Event ended';
                        return;
                    }
                    
                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                    
                    countdown.innerHTML = `
                        <div class="countdown-item">
                            <div class="countdown-value">${days}</div>
                            <div class="countdown-label">Days</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value">${hours}</div>
                            <div class="countdown-label">Hours</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value">${minutes}</div>
                            <div class="countdown-label">Mins</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value">${seconds}</div>
                            <div class="countdown-label">Secs</div>
                        </div>
                    `;
                });
            }
            
            // Update immediately and then every second
            updateCountdowns();
            setInterval(updateCountdowns, 1000);
        }

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                // Update active nav item
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                this.classList.add('active');
                
                // Show selected section
                const sectionId = this.getAttribute('data-section');
                document.querySelectorAll('#dashboard-section, .packages-section, .events-section, .bookings-section').forEach(section => {
                    section.style.display = 'none';
                });
                
                if(sectionId === 'dashboard') {
                    document.getElementById('dashboard-section').style.display = 'block';
                } else {
                    document.getElementById(`${sectionId}-section`).style.display = 'block';
                }
            });
        });

        // Notifications
        document.querySelector('.notification').addEventListener('click', function(e) {
            e.stopPropagation();
            document.querySelector('.notification-panel').classList.toggle('active');
        });

        document.getElementById('clear-notifications').addEventListener('click', function() {
            document.querySelectorAll('.notification-item.unread').forEach(item => {
                item.classList.remove('unread');
            });
            document.querySelector('.notification-badge').textContent = '0';
        });

        // Close notifications when clicking outside
        document.addEventListener('click', function(e) {
            if(!e.target.closest('.notification')) {
                document.querySelector('.notification-panel').classList.remove('active');
            }
        });

        // Modals
        document.getElementById('add-package-btn').addEventListener('click', function() {
            document.getElementById('package-modal').style.display = 'flex';
        });

        document.getElementById('add-event-btn').addEventListener('click', function() {
            document.getElementById('event-modal').style.display = 'flex';
        });

        document.querySelectorAll('.close-modal').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.modal-backdrop').forEach(modal => {
                    modal.style.display = 'none';
                });
            });
        });

        // View all bookings buttons
        document.getElementById('view-all-bookings').addEventListener('click', function() {
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
                if (nav.getAttribute('data-section') === 'bookings') {
                    nav.classList.add('active');
                }
            });
            
            document.querySelectorAll('#dashboard-section, .packages-section, .events-section, .bookings-section').forEach(section => {
                section.style.display = 'none';
            });
            
            document.getElementById('bookings-section').style.display = 'block';
        });

        document.getElementById('view-all-bookings-2').addEventListener('click', function() {
            renderAllBookings();
        });

        // Print booking button
        document.getElementById('print-booking').addEventListener('click', function() {
            window.print();
        });

        // Send confirmation button
        document.getElementById('send-confirmation').addEventListener('click', function() {
            alert('Confirmation email has been sent to the customer');
        });

        // Close modals when clicking on backdrop
        document.querySelectorAll('.modal-backdrop').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if(e.target === this) {
                    this.style.display = 'none';
                }
            });
        });

        // Form submissions
        document.getElementById('package-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get all the images
            const mainImage = document.getElementById('package-image').files[0];
            const carouselImages = Array.from(document.querySelectorAll('.carousel-image'))
                .map(input => input.files[0])
                .filter(file => file); // Remove empty files
            
            // In a real application, you would upload these images to your server
            // and save the package data with references to the image URLs
            
            // For demo purposes, we'll just show an alert
            alert(`Package created with ${mainImage ? 1 : 0} main image and ${carouselImages.length} carousel images!`);
            
            // Close the modal
            document.getElementById('package-modal').style.display = 'none';
            
            // Reset the form
            this.reset();
            document.querySelectorAll('.image-upload-preview').forEach(preview => {
                const placeholder = preview.querySelector('.image-upload-placeholder');
                if (placeholder) {
                    placeholder.style.display = 'block';
                }
                const removeBtn = preview.querySelector('.image-upload-remove');
                if (removeBtn) {
                    removeBtn.style.display = 'none';
                }
                if (preview.querySelector('img')) {
                    preview.querySelector('img').remove();
                }
            });
        });

        document.getElementById('event-form').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Event added successfully!');
            document.getElementById('event-modal').style.display = 'none';
            // In a real app, you would send data to backend here
        });

        // Edit booking form submission
        document.getElementById('edit-booking-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const bookingId = document.getElementById('edit-booking-id').value;
            const booking = bookings.find(b => b.id === bookingId);
            
            if (booking) {
                // Update the booking
                booking.status = document.getElementById('edit-booking-status').value;
                booking.paymentStatus = document.getElementById('edit-payment-status').value;
                booking.customer = document.getElementById('edit-customer-name').value;
                booking.email = document.getElementById('edit-customer-email').value;
                booking.phone = document.getElementById('edit-customer-phone').value;
                booking.package = document.getElementById('edit-package').value;
                booking.tourDate = document.getElementById('edit-tour-date').value;
                booking.endDate = document.getElementById('edit-end-date').value;
                booking.amount = parseFloat(document.getElementById('edit-amount').value);
                booking.participants = document.getElementById('edit-participants').value;
                booking.requests = document.getElementById('edit-special-requests').value;
                
                // Re-render the bookings
                renderRecentBookings();
                renderAllBookings();
                updateStats();
                
                // Close the modal
                document.getElementById('edit-booking-modal').style.display = 'none';
                
                // Show success message
                alert(`Booking #${bookingId} has been updated successfully.`);
            }
        });

        // Confirm delete booking
        document.getElementById('confirm-delete-booking').addEventListener('click', function() {
            const bookingId = this.getAttribute('data-booking');
            deleteBooking(bookingId);
            document.getElementById('delete-booking-modal').style.display = 'none';
        });

        // View package buttons
        document.querySelectorAll('.view-package-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const packageId = this.getAttribute('data-id');
                viewPackageDetails(packageId);
            });
        });

        // Edit package buttons
        document.querySelectorAll('.edit-package-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const packageId = this.getAttribute('data-id');
                editPackage(packageId);
            });
        });

        // Delete package buttons
        document.querySelectorAll('.delete-package-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const packageId = this.getAttribute('data-id');
                confirmDeletePackage(packageId);
            });
        });

        // Confirm delete package
        document.getElementById('confirm-delete-package').addEventListener('click', function() {
            const packageId = this.getAttribute('data-package');
            // In a real app, you would delete the package from your database here
            alert(`Package #${packageId} would be deleted in a real application.`);
            document.getElementById('delete-package-modal').style.display = 'none';
        });

        // View event buttons
        document.querySelectorAll('.view-event-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const eventId = this.getAttribute('data-id');
                viewEventDetails(eventId);
            });
        });

        // Edit event buttons
        document.querySelectorAll('.edit-event-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const eventId = this.getAttribute('data-id');
                editEvent(eventId);
            });
        });

        // Delete event buttons
        document.querySelectorAll('.delete-event-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const eventId = this.getAttribute('data-id');
                confirmDeleteEvent(eventId);
            });
        });

        // Confirm delete event
        document.getElementById('confirm-delete-event').addEventListener('click', function() {
            const eventId = this.getAttribute('data-event');
            // In a real app, you would delete the event from your database here
            alert(`Event #${eventId} would be deleted in a real application.`);
            document.getElementById('delete-event-modal').style.display = 'none';
        });

        // Recent bookings filter events
        document.getElementById('recent-year-filter').addEventListener('change', function() {
            const year = this.value;
            const month = document.getElementById('recent-month-filter').value;
            renderRecentBookings(year, month);
        });

        document.getElementById('recent-month-filter').addEventListener('change', function() {
            const month = this.value;
            const year = document.getElementById('recent-year-filter').value;
            renderRecentBookings(year, month);
        });

        // Initialize the dashboard
        document.addEventListener('DOMContentLoaded', function() {
            renderRecentBookings();
            renderAllBookings();
            updateStats();
            initImageUpload();
            initEventCountdowns();
            
            // Simulate real-time updates
            setInterval(() => {
                // Randomly update booking count
                const bookingStat = document.querySelectorAll('.stat-value')[2];
                let bookings = parseInt(bookingStat.textContent);
                bookings += Math.floor(Math.random() * 3) - 1; // Random change between -1 and +1
                bookingStat.textContent = Math.max(5, bookings); // Don't go below 5
                
                // Update revenue
                const revenueStat = document.querySelectorAll('.stat-value')[3];
                let revenue = parseInt(revenueStat.textContent.replace('$', '').replace(',', ''));
                revenue += Math.floor(Math.random() * 500) - 250; // Random change
                revenueStat.textContent = '$' + Math.max(10000, revenue).toLocaleString();
                
                // Update the recent bookings display
                const year = document.getElementById('recent-year-filter').value;
                const month = document.getElementById('recent-month-filter').value;
                renderRecentBookings(year, month);
            }, 5000);
        });
    </script>
</body>
</html>